<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OOP_arcade_2019: How to add a graphical library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OOP_arcade_2019
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A Retro Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('add_lib_page.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How to add a graphical library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page will explain how to add a graphical library in our Arcade program.</p>
<p>We'll look at how to add an existing game library to the Arcade and how to create a new graphical library.</p>
<h1><a class="anchor" id="add_graphical_library"></a>
How to add a graphical library</h1>
<h2><a class="anchor" id="adding_graphical_library"></a>
Adding an existing library to the Arcade</h2>
<p>Adding a graphical library to the arcade is pretty simple. You add the dynamic library to the lib/ directory in the repository's root. The game library should be named "lib_arcade_LIBNAME.so".</p>
<p>You can launch the Arcade with your library like so:</p>
<div class="fragment"><div class="line">./arcade lib/lib_arcade_LIBNAME.so</div></div><!-- fragment --><p>You can also change the currently library while the Arcade is launched. To do so, you can choose the library in the library list in the main menu. Note that only valid libraries will be shown in the lists.</p>
<h2><a class="anchor" id="creating_new_graphical_library"></a>
Creating a new graphical library</h2>
<h3><a class="anchor" id="class_constructor_entry_point"></a>
Entry point</h3>
<p>The Arcade uses dlopen and dlsym to access the classes. For the library to instantiate the class you wish to implement, you should add an extern "C" function as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>LIBRARY_CLASS_NAME;</div><div class="line"></div><div class="line"><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <a class="code" href="classarc_1_1_i_graphical.html">arc::IGraphical</a> *<a class="code" href="_nibbler_8cpp.html#ab7f0f008f2acf200013c326fce770863">instance_ctor</a>() {</div><div class="line">    <span class="keywordflow">return</span> (<span class="keyword">new</span> LIBRARY_CLASS_NAME);</div><div class="line">};</div></div><!-- fragment --><p>Where LIBRARY_CLASS_NAME is the name of your graphical library.</p>
<p>If this function is not found in the shared library, your graphical library will not be loaded by the Arcade.</p>
<h3><a class="anchor" id="implementing_class"></a>
Implementing a new graphical library</h3>
<p>It is possible for you to create a new graphical library. To do this, you must create a child class and implement all the methods from the <a class="el" href="classarc_1_1_i_graphical.html" title="Graphical interface.">arc::IGraphical</a> interface class. You can use the <a class="el" href="classarc_1_1_arcade_error.html" title="This class is the main error class in the Arcade program. All other class error must be derived from ...">arc::ArcadeError</a> for your exceptions as they are catched by the core of the Arcade.</p>
<p>You must compile the child class implementation into a shared library and add it as described <a class="el" href="add_lib_page.html#adding_graphical_library">here</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
